// Used to redirect common requests to old site files to new file locations

var url = require('url');

route = function() {

	return function route(req, res, next) {

		var urlObj = url.parse(req.url);
		var urlPath = urlObj.pathname;

		switch (urlPath.toLowerCase()) {

			case '/home.asp':
				res.writeHead(301, {Location: 'http://www.pamperyourpoultry.com/index.html'});
				res.end();
				return;
				break;

			case '/diaper_catalog.asp':
				res.writeHead(301, {Location: 'http://www.pamperyourpoultry.com/diapers.html'});
				res.end();
				return;
				break;

			case '/saddle_catalog.asp':
				res.writeHead(301, {Location: 'http://www.pamperyourpoultry.com/feather_guards.html'});
				res.end();
				return;
				break;

			case '/attire_catalog.asp':
				res.writeHead(301, {Location: 'http://www.pamperyourpoultry.com/attire.html'});
				res.end();
				return;
				break;

			default:
				next();
				return;
		}

	}

}

/* Expose public functions ------ */
exports.route = route;

